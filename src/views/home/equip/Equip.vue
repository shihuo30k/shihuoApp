<template>
  <div class="container">
    <searchinput></searchinput>
    <div class="test"></div>
    <div class="toptitle">
      
      <router-link to="/pagesalehot"><salehot></salehot></router-link>
      <router-link to="/pagegoodprice"><goodprice></goodprice></router-link>
      <router-link to="/pagecurrentnew"><currentnew></currentnew></router-link>
    </div>
    <div class="imgarea">
      <div class="first">
        <div class="imgcon">
          <img
            src="http://shihuo.hupucdn.com/appZones/201701/1815/18dad2cc843300a3560cca54886957e5.png"
            alt=""
          />
        </div>
        <a href="http://m.shihuo.cn/basketball" class="a1">
          <div class="heiying"></div>
          <div class="con">
            <div class="onecenter">
              <span>篮球BASKETBALL</span>
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-go_f747d60.png"
                alt=""
              />
            </div>
            <div class="txt">
              <p>匹克闪现评测</p>
            </div>
            <div class="left">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-1_2b1686e.png"
                alt=""
              />
            </div>
            <div class="right">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-2_9a175b7.png"
                alt=""
              />
            </div>
          </div>
        </a>

        <div class="alist">
          <a href="">篮球鞋</a>
          <a href="">篮球服饰</a>
          <a href="">篮球配件</a>
          <a href=""
            >篮球<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="alist">
          <a href="">Nike</a>
          <a href="">adidas</a>
          <a href="">Jordan</a>
          <a href=""
            >全部<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="bgcolor"></div>
        
      </div>

      <div class="first">
        <div class="imgcon">
          <img
            src="http://shihuo.hupucdn.com/appZones/201701/1815/fa1b657f6d267f5ccb6c3213ba7cebd3.png"
            alt=""
          />
        </div>
        <a href="http://m.shihuo.cn/basketball" class="a1">
          <div class="heiying"></div>
          <div class="con">
            <div class="onecenter" style="width:1.96rem">
              <span>跑步RUNNING</span>
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-go_f747d60.png"
                alt=""
              />
            </div>
            <div class="txt">
              <p>户外跑鞋选购</p>
            </div>
            <div class="left">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-1_2b1686e.png"
                alt=""
              />
            </div>
            <div class="right">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-2_9a175b7.png"
                alt=""
              />
            </div>
          </div>
        </a>

        <div class="alist">
          <a href="">跑步鞋</a>
          <a href="">跑步服饰</a>
          <a href="">跑步配件</a>
          <a href=""
            >运动补给<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="alist">
          <a href="">adidas</a>
          <a href="">asics</a>
          <a href="">New Balance</a>
          <a href=""
            >全部<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="bgcolor"></div>
        
      </div>

      <div class="first">
        <div class="imgcon">
          <img
            src="http://shihuo.hupucdn.com/appZones/201701/1815/d5bdeb4f9dee46e6cf24e239da707bc3.png"
            alt=""
          />
        </div>
        <a href="http://m.shihuo.cn/basketball" class="a1">
          <div class="heiying"></div>
          <div class="con">
            <div class="onecenter" style="width:1.8rem">
              <span>潮流CASUAL</span>
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-go_f747d60.png"
                alt=""
              />
            </div>
            <div class="txt">
              <p>radium格子衬衫等8款超低价</p>
              <p>年度鞋款回顾</p>
            </div>
            <div class="left">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-1_2b1686e.png"
                alt=""
              />
            </div>
            <div class="right">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-2_9a175b7.png"
                alt=""
              />
            </div>
          </div>
        </a>

        <div class="alist">
          <a href="">鞋类</a>
          <a href="">服装</a>
          <a href="">配件</a>
          <a href=""
            >耳机<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="alist">
          <a href="">Converse</a>
          <a href="">CASIO</a>
          <a href="">Vans</a>
          <a href=""
            >全部<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="bgcolor"></div>
        
      </div>

      <div class="first">
        <div class="imgcon">
          <img
            src="http://shihuo.hupucdn.com/appZones/201701/1815/f08e00fd62f3e0b2561e45c9f5db0272.png"
            alt=""
          />
        </div>
        <a href="http://m.shihuo.cn/basketball" class="a1">
          <div class="heiying"></div>
          <div class="con">
            <div class="onecenter" style="width:1.8rem">
              <span>健身FITNESS</span>
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-go_f747d60.png"
                alt=""
              />
            </div>
            <div class="txt">
              <div style="width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0 auto">adidas 舒适运动袜 AA2285, 热款丨Nike 男子休闲运动短裤</div>
              <p>战斗绳狂塑</p>
            </div>
            <div class="left">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-1_2b1686e.png"
                alt=""
              />
            </div>
            <div class="right">
              <img
                src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/ban-2_9a175b7.png"
                alt=""
              />
            </div>
          </div>
        </a>

        <div class="alist">
          <a href="">健身装备</a>
          <a href="">健身用品</a>
          <a href="">营养补剂</a>
          <a href=""
            >全部类目<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="alist">
          <a href="">Converse</a>
          <a href="">CASIO</a>
          <a href="">Vans</a>
          <a href=""
            >全部<img
              src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-3_b996a60.png"
              alt=""
            />
          </a>
        </div>
        <div class="bgcolor"></div>
        
      </div>
    </div>
    <div class="recomlist">
      <div class="recommend">
        最新推荐
      </div>
      <van-list
      v-model="loading"
      :finished="finished"
      finished-text="没有更多了"
      @load="onload"
     >
      <a :href="item.data.href" id="list" :key="item.data.id" v-for="item in hotlist" class="aa">
      <div class="listitem">
        <div class="imglist">
          <img :src="item.data.img">
        </div>
        <div class="desc">
           <div class="title">{{item.data.title}}</div>
           <div class="centerdesc">
             <img src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-1_5297253.png" alt="">
             {{item.data.intro}}
             <img src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/quote_right_711acf3.png" alt="">
           </div>
           <div class="spacecon">
             <div class="spacebetween">
               <div>淘宝</div>
               <span>{{item.data.price}}</span>
               <div class="num">
                 <img src="http://sh1.hoopchina.com.cn/fis_static/shihuomobile/static/zhuangbei/index/icon-2_2bc8bc4.png" alt="">
                 <div class="inlineblock">{{item.data.hits}}</div>
               </div>
             </div>
           </div>
        </div>
      </div>
      </a>
      </van-list>
    </div>
  </div>
</template>

<script>
import searchinput from "@c/searchinput";
import righttop from "@c/righttop";
import goodprice from "@c/goodprice";
import salehot from "@c/salehot";
import currentnew from "@c/currentnew";
import http from "@u/http.js"
var qs=require("querystringify")
export default {
  data(){
    return{
       hotlist:[],
       loading: false,
       finished: false,
       page:2,
    }
  },
  methods:{
    async onload() {
      let result = await http.post("/api/zhuangbei/getHomeNews",qs.stringify({'page':this.page}))
      this.hotlist = this.hotlist.concat(result.data);
      this.page++;
      this.loading = false;
      if (this.hotlist.length > 200) {
        this.finished = true;
      }
    },
  },
  components: {
    searchinput,
    righttop,
    salehot,
    goodprice,
    currentnew,
  },
  async mounted(){
    let result=await http.post('/api/zhuangbei/getHomeNews',qs.stringify({'page':1}))
    this.hotlist=result.data;
    console.log(result.data);
  }
}
</script>

<style lang="stylus" scoped>
.aa
  color black
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}

.container {
  width: 100%;
  overflow-y scroll
  height 100%
}

.toptitle {
  height: 0.78rem;
  width: 100%;
  padding-top: 0.48rem;
}

.imgarea{
  margin-top .4rem
}
.con {
  width: 100%;
}

.first {
  position: relative;
}

.imgcon {
  img {
    width: 100%;
    height: 1.96rem;
  }
}

.a1 {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 1.96rem;
}

.heiying {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 1.96rem;
  background-color: #000;
  opacity: 0.5;
}

.onecenter {
  width 2.2rem
  position: relative;
  height: 0.38rem;
  top: 0.24rem;
  margin 0 auto
  img {
    position: absolute;
    width: 0.24rem;
    height: 0.24rem;
  }

  span {
    opacity: 0.999;
    color: #ffffff;
    font-size: 0.24rem;
    
  }
}

.txt
  font-size .14rem
  opacity 0.77
  color #ffffff
  width 100%
  margin 0.2rem auto 0 auto;
  p
    display flex
    font-size .14rem
    justify-content center

.left {
  position: absolute;
  left: 0.2rem
  top: 0.34rem

  img {
    height: 1.22rem
  }
}

.right {
  position: absolute;
  right: 0.2rem;
  top: 0.34rem;

  img {
    height: 1.22rem;
  }
}
.alist
   a
    display inline-block
    text-align center
    color #000000
    font-size .14rem
    margin auto 0
    line-height .4rem
    height .4rem
    width 25%
    img 
      width .1rem
      height .1rem
      margin-left .1rem
.bgcolor
   width 100%
   height .1rem
   background-color #f0f3f5
.listitem
   display flex
   height 1.12rem
   position relative
   margin-top .3rem
.recomlist
   padding-left .1rem
.recommend
   width 100%
   height .24rem
   display flex
   line-height .24rem
   font-size .18rem
.imglist
  display flex
  img 
    width 1.26rem
    height 1.26rem
.desc
  display flex
  position relative
  height 1.26rem
  width 2.4rem
  flex-direction column
.inlineblock
  display inline-block
.spacebetween
  display flex
  position absolute
  padding-left .16rem
  width 2.36rem
  
  bottom 0
  right 0
  flex-direction !row
  justify-content space-between
  span
    color red
    display flex
.title
  font-size .14rem
  height .42rem
  display flex
  padding-left .16rem
.centerdesc
  font-size .12rem
  padding-left .16rem
  display flex
  img
     width .12rem
     height .12rem
.num
   margin-left .66rem
   display flex
   align-items center
   img 
     margin-right .04rem
     width .12rem
     height .12rem
   div
    
    font-size .12rem
</style>